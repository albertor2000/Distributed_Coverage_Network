\hypertarget{v__twin0_8py}{}\doxysection{/home/drone/\+Planning-\/drones-\/\+ROS2/agents\+\_\+pos\+\_\+service/agents\+\_\+pos\+\_\+service/v\+\_\+twin0.py File Reference}
\label{v__twin0_8py}\index{/home/drone/Planning-\/drones-\/ROS2/agents\_pos\_service/agents\_pos\_service/v\_twin0.py@{/home/drone/Planning-\/drones-\/ROS2/agents\_pos\_service/agents\_pos\_service/v\_twin0.py}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classagents__pos__service_1_1v__twin0_1_1_height_subscriber}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+Height\+Subscriber}}
\begin{DoxyCompactList}\small\item\em The Height Subscriber class. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classagents__pos__service_1_1v__twin0_1_1_r_t_position_subscriber}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+RTPosition\+Subscriber}}
\begin{DoxyCompactList}\small\item\em The Real Time Position Subscriber class. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classagents__pos__service_1_1v__twin0_1_1_r_t_position1_subscriber}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+RTPosition1\+Subscriber}}
\begin{DoxyCompactList}\small\item\em The Real Time Position Subscriber class. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classagents__pos__service_1_1v__twin0_1_1_coordinates_publisher}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+Coordinates\+Publisher}}
\begin{DoxyCompactList}\small\item\em The Coordinates Publisher class. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin0}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0}}
\begin{DoxyCompactList}\small\item\em Python node that do Coverage Control for Mobile Sensing Networks. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin0_a032aef8b16458665128e80a94bdf507e}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+bounded\+\_\+voronoi}} (bnd, pnts)
\begin{DoxyCompactList}\small\item\em A function that calculates and draws bounded Voronoi diagrams. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin0_a4b81478411ebd80614d4b5de4cec965e}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+get\+Centroid}} (x, y)
\begin{DoxyCompactList}\small\item\em Calculates the centroid point of the cell passed by parameters. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin0_a272088212b46b1aeecb3acdb9d98c31a}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+get\+Polar\+Moment}} (x, y, c)
\begin{DoxyCompactList}\small\item\em Calculates the polar moment of the cell passed by parameters. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin0_ab1ef45941b6f1ca9a5805a5664f6ee7b}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+get\+Distance}} (a, b)
\begin{DoxyCompactList}\small\item\em Calculates the distance between two points. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin0_a1e9ce325a6520f9ed8e533361a719fb8}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+get\+Middle\+Point}} (a, b)
\begin{DoxyCompactList}\small\item\em Calculates the middle point of two points. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin0_ab46a3c147cf764be739a7f2b63467ade}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+get\+Weighted\+Middle\+Point}} (a, b)
\begin{DoxyCompactList}\small\item\em Calculates the middle point nearer to a, between two points. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin0_a0034d40c8a205504d5c15350f33035aa}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+voronoi\+To\+Map}} (coordinate10)
\begin{DoxyCompactList}\small\item\em SERVICES ROS \#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin0_ab32933b4aa1b3351d1d92cc344bbdf0a}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+Map\+To\+Voronoi}} (coordinate\+Map)
\begin{DoxyCompactList}\small\item\em Convert map scale point to voronoi scale point. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin0_a251c9412aace2da9ce872b9a29a03859}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+go\+To\+Destination}} (x, y, z)
\begin{DoxyCompactList}\small\item\em The Coordinates Publisher class. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a81839efbc59477edbccc2c712060af80}\label{namespaceagents__pos__service_1_1v__twin0_a81839efbc59477edbccc2c712060af80}} 
def {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+get\+Altitude} ()
\begin{DoxyCompactList}\small\item\em Function to call the service to get the altitude of the agent. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin0_a8a5960e9bcbc2c3865732c4754ab0251}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+get\+RTPosition}} (drone\+\_\+id)
\begin{DoxyCompactList}\small\item\em Function to call the service to get the real time position of the agent. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a02225d13c9a2f9ec82e2ca35784ef14d}\label{namespaceagents__pos__service_1_1v__twin0_a02225d13c9a2f9ec82e2ca35784ef14d}} 
def {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+main} (args=None)
\begin{DoxyCompactList}\small\item\em Main program entry. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a540885e0c2426acecbcdc7b7be60b1e2}\label{namespaceagents__pos__service_1_1v__twin0_a540885e0c2426acecbcdc7b7be60b1e2}} 
{\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+height\+Subscriber} = None
\begin{DoxyCompactList}\small\item\em Subscriber to receive the height of the aget by ultrasonic sensor topic. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a378ff04fc4853185f00fe1787e781f00}\label{namespaceagents__pos__service_1_1v__twin0_a378ff04fc4853185f00fe1787e781f00}} 
{\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+rtposition\+Subscriber} = None
\begin{DoxyCompactList}\small\item\em Subscriber to get the position of the agent 0 from gazebo. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_ac223c8c1cb88b13ca4f325bb0e506a37}\label{namespaceagents__pos__service_1_1v__twin0_ac223c8c1cb88b13ca4f325bb0e506a37}} 
{\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+rtposition1\+Subscriber} = None
\begin{DoxyCompactList}\small\item\em Subscriber to get the position of the agent 1 from gazebo. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a7feec821e65400a405954f921f1e89a7}\label{namespaceagents__pos__service_1_1v__twin0_a7feec821e65400a405954f921f1e89a7}} 
{\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+coordinates\+Publisher} = None
\begin{DoxyCompactList}\small\item\em Publisher to send the coordinates of the calculated position to robots\+\_\+contol. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a3e3bd24caf3918ea305dbc377a1db8b6}\label{namespaceagents__pos__service_1_1v__twin0_a3e3bd24caf3918ea305dbc377a1db8b6}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+dest\+\_\+x} = 5.\+0
\begin{DoxyCompactList}\small\item\em x destination coordinate to send with coordinates\+Publisher to robots\+\_\+control. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a7dffb965b1515f5ef575ab8a2ca60dfe}\label{namespaceagents__pos__service_1_1v__twin0_a7dffb965b1515f5ef575ab8a2ca60dfe}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+dest\+\_\+y} = 10.\+0
\begin{DoxyCompactList}\small\item\em y destination coordinate to send with coordinates\+Publisher to robots\+\_\+control. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_af14d32834b1029314473228a965b3ac0}\label{namespaceagents__pos__service_1_1v__twin0_af14d32834b1029314473228a965b3ac0}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+dest\+\_\+z} = -\/30.\+0
\begin{DoxyCompactList}\small\item\em z destination coordinate to send with coordinates\+Publisher to robots\+\_\+control. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_af854d228c07d4a30eb0ad7a6e2395108}\label{namespaceagents__pos__service_1_1v__twin0_af854d228c07d4a30eb0ad7a6e2395108}} 
int {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+REFRESH\+\_\+\+TIME} = 5
\begin{DoxyCompactList}\small\item\em The time to wait to calculate the new position with Lloyd algorithm. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_add98f648ed47b3254f9806309bdce032}\label{namespaceagents__pos__service_1_1v__twin0_add98f648ed47b3254f9806309bdce032}} 
int {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+DISTANCE\+\_\+\+FROM\+\_\+\+TERRAIN} = 20
\begin{DoxyCompactList}\small\item\em Distance the agent have to maintain from the terrain. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin0_a82ef70e1db9238b31f041a3fdb1d25f3}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+MAP\+\_\+\+SIZE}} = 2400
\begin{DoxyCompactList}\small\item\em The size of the map. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_ae222dab4718429f5f943e0dcc9fb6d26}\label{namespaceagents__pos__service_1_1v__twin0_ae222dab4718429f5f943e0dcc9fb6d26}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+mx} = 1.\+0
\begin{DoxyCompactList}\small\item\em This agent position x coordinate (voronoi scale) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a3184b00914e43389450f9bde94a9ef14}\label{namespaceagents__pos__service_1_1v__twin0_a3184b00914e43389450f9bde94a9ef14}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+my} = 2.\+0
\begin{DoxyCompactList}\small\item\em This agent position y coordinate (voronoi scale) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_abe825b90bba8524434089daea8cbc4bb}\label{namespaceagents__pos__service_1_1v__twin0_abe825b90bba8524434089daea8cbc4bb}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+mz} = 3.\+0
\begin{DoxyCompactList}\small\item\em This agent position z coordinate (voronoi scale) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a919a97642a9d8930061ce7e27d0d8d81}\label{namespaceagents__pos__service_1_1v__twin0_a919a97642a9d8930061ce7e27d0d8d81}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+mh} = 4.\+0
\begin{DoxyCompactList}\small\item\em Altitude of this agent. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a085659fcdcea6e8afa559d262f6705d7}\label{namespaceagents__pos__service_1_1v__twin0_a085659fcdcea6e8afa559d262f6705d7}} 
tuple {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+sendx} = (mx $\ast$ MAP\+\_\+\+SIZE / 10) -\/ (MAP\+\_\+\+SIZE / 2)
\begin{DoxyCompactList}\small\item\em This agent position z coordinate (map scale) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_adf4311fbc2014529617e4ca816640acc}\label{namespaceagents__pos__service_1_1v__twin0_adf4311fbc2014529617e4ca816640acc}} 
tuple {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+sendy} = (my $\ast$ MAP\+\_\+\+SIZE / 10) -\/ (MAP\+\_\+\+SIZE / 2)
\begin{DoxyCompactList}\small\item\em This agent position z coordinate (map scale) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a5870791bd98f0a949b01588ad9429255}\label{namespaceagents__pos__service_1_1v__twin0_a5870791bd98f0a949b01588ad9429255}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+sendz} = mz
\begin{DoxyCompactList}\small\item\em This agent position z coordinate (map scale) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a50f497c6236d78cf5cb04d086d115086}\label{namespaceagents__pos__service_1_1v__twin0_a50f497c6236d78cf5cb04d086d115086}} 
int {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+MY\+\_\+\+ID} = 0
\begin{DoxyCompactList}\small\item\em This agent id. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_ae3f054047fd91f3a8d7077898ea98c65}\label{namespaceagents__pos__service_1_1v__twin0_ae3f054047fd91f3a8d7077898ea98c65}} 
int {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+ITERATIONS} = 5
\begin{DoxyCompactList}\small\item\em Iterations to converge before take the photo. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_aac27de889424140dd0a88e277309f0ec}\label{namespaceagents__pos__service_1_1v__twin0_aac27de889424140dd0a88e277309f0ec}} 
int {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+N\+\_\+\+AGENTS} = 2
\begin{DoxyCompactList}\small\item\em Number of agents used. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a8a83929bb3b7b2c004e5a8fb2986d01b}\label{namespaceagents__pos__service_1_1v__twin0_a8a83929bb3b7b2c004e5a8fb2986d01b}} 
int {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+M\+\_\+\+FACTOR} = 10
\begin{DoxyCompactList}\small\item\em DO NOT TOUCH\+: Multiplicative factor (Used to calculate voronoi cells) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_a14cf06c0b5223d2a612cc01c184f49bb}\label{namespaceagents__pos__service_1_1v__twin0_a14cf06c0b5223d2a612cc01c184f49bb}} 
list {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+destination} = \mbox{[}6, 7\mbox{]}
\begin{DoxyCompactList}\small\item\em Destination where my agents has to arrive. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin0_aab35cbc36300847cd1d55411f10814e7}\label{namespaceagents__pos__service_1_1v__twin0_aab35cbc36300847cd1d55411f10814e7}} 
list {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin0.\+agents\+\_\+position} = \mbox{[}\mbox{[}-\/1, -\/1, 1\mbox{]}, \mbox{[}-\/1, -\/1, 1\mbox{]}\mbox{]}
\begin{DoxyCompactList}\small\item\em Position of all agents. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\hypertarget{v__twin1_8py_author}{}\doxysubsection{Author(s)}\label{v__twin1_8py_author}

\begin{DoxyItemize}
\item Created by Alberto Ruaro on 30/04/2022. 
\end{DoxyItemize}