\hypertarget{v__twin1_8py}{}\doxysection{/home/drone/\+Planning-\/drones-\/\+ROS2/agents\+\_\+pos\+\_\+service/agents\+\_\+pos\+\_\+service/v\+\_\+twin1.py File Reference}
\label{v__twin1_8py}\index{/home/drone/Planning-\/drones-\/ROS2/agents\_pos\_service/agents\_pos\_service/v\_twin1.py@{/home/drone/Planning-\/drones-\/ROS2/agents\_pos\_service/agents\_pos\_service/v\_twin1.py}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classagents__pos__service_1_1v__twin1_1_1_height_subscriber}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+Height\+Subscriber}}
\begin{DoxyCompactList}\small\item\em The Height Subscriber class. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classagents__pos__service_1_1v__twin1_1_1_r_t_position_subscriber}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+RTPosition\+Subscriber}}
\begin{DoxyCompactList}\small\item\em The Real Time Position Subscriber class. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classagents__pos__service_1_1v__twin1_1_1_r_t_position1_subscriber}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+RTPosition1\+Subscriber}}
\begin{DoxyCompactList}\small\item\em The Real Time Position Subscriber class. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classagents__pos__service_1_1v__twin1_1_1_coordinates_publisher}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+Coordinates\+Publisher}}
\begin{DoxyCompactList}\small\item\em The Coordinates Publisher class. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin1}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1}}
\begin{DoxyCompactList}\small\item\em Python node that do Coverage Control for Mobile Sensing Networks. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin1_ac488895e6de5f1900fd8ba0f23f18e82}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+bounded\+\_\+voronoi}} (bnd, pnts)
\begin{DoxyCompactList}\small\item\em A function that calculates and draws bounded Voronoi diagrams. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin1_a2b4092c4f15d403c51b0698294b28b69}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+get\+Centroid}} (x, y)
\begin{DoxyCompactList}\small\item\em Calculates the centroid point of the cell passed by parameters. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin1_ab058e1fb95b4a9196c3fc58549f1df2b}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+get\+Polar\+Moment}} (x, y, c)
\begin{DoxyCompactList}\small\item\em Calculates the polar moment of the cell passed by parameters. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin1_aaa67f0f1e3661d7fe70651eb28b41363}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+get\+Distance}} (a, b)
\begin{DoxyCompactList}\small\item\em Calculates the distance between two points. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin1_af96b088914002533606fc9613169b09d}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+get\+Middle\+Point}} (a, b)
\begin{DoxyCompactList}\small\item\em Calculates the middle point of two points. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin1_a7a0bdf8f57c02315d426b247753b48e7}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+get\+Weighted\+Middle\+Point}} (a, b)
\begin{DoxyCompactList}\small\item\em Calculates the middle point nearer to a, between two points. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin1_a374c032d189ecc2f67e0da811ed9ed7e}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+voronoi\+To\+Map}} (coordinate10)
\begin{DoxyCompactList}\small\item\em SERVICES ROS \#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin1_a82a710a1755bfa31580f41ba6898c001}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+Map\+To\+Voronoi}} (coordinate\+Map)
\begin{DoxyCompactList}\small\item\em Convert map scale point to voronoi scale point. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin1_ae2a8aa8e30b4f32aa3ba33c5c5ddf8a4}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+go\+To\+Destination}} (x, y, z)
\begin{DoxyCompactList}\small\item\em The Coordinates Publisher class. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a46cadb6227bbd0ad7dd8cba7f06518c4}\label{namespaceagents__pos__service_1_1v__twin1_a46cadb6227bbd0ad7dd8cba7f06518c4}} 
def {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+get\+Altitude} ()
\begin{DoxyCompactList}\small\item\em Function to call the service to get the altitude of the agent. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin1_abd4d2dba8652b074dc1915cbb8fb044d}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+get\+RTPosition}} (drone\+\_\+id)
\begin{DoxyCompactList}\small\item\em Function to call the service to get the real time position of the agent. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_ac5a0ae4116b80e2912e4c1f715062b07}\label{namespaceagents__pos__service_1_1v__twin1_ac5a0ae4116b80e2912e4c1f715062b07}} 
def {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+main} (args=None)
\begin{DoxyCompactList}\small\item\em Main program entry. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a81a68f93ece25f90520512ad348818ed}\label{namespaceagents__pos__service_1_1v__twin1_a81a68f93ece25f90520512ad348818ed}} 
{\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+height\+Subscriber} = None
\begin{DoxyCompactList}\small\item\em Subscriber to receive the height of the aget by ultrasonic sensor topic. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a5dad9ed160bcb9ff4eb37e8563092010}\label{namespaceagents__pos__service_1_1v__twin1_a5dad9ed160bcb9ff4eb37e8563092010}} 
{\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+rtposition\+Subscriber} = None
\begin{DoxyCompactList}\small\item\em Subscriber to get the position of the agent 0 from gazebo. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_adfe6207806ceb122905b490020782cf4}\label{namespaceagents__pos__service_1_1v__twin1_adfe6207806ceb122905b490020782cf4}} 
{\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+rtposition1\+Subscriber} = None
\begin{DoxyCompactList}\small\item\em Subscriber to get the position of the agent 1 from gazebo. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a5e8750df635b8c6dae7f21dcc145ba43}\label{namespaceagents__pos__service_1_1v__twin1_a5e8750df635b8c6dae7f21dcc145ba43}} 
{\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+coordinates\+Publisher} = None
\begin{DoxyCompactList}\small\item\em Publisher to send the coordinates of the calculated position to robots\+\_\+contol. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a8a27b0839448dcc895863d61c83e467e}\label{namespaceagents__pos__service_1_1v__twin1_a8a27b0839448dcc895863d61c83e467e}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+dest\+\_\+x} = 5.\+0
\begin{DoxyCompactList}\small\item\em x destination coordinate to send with coordinates\+Publisher to robots\+\_\+control. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a03c3576a2ee0c9c0185b5a6f3d408220}\label{namespaceagents__pos__service_1_1v__twin1_a03c3576a2ee0c9c0185b5a6f3d408220}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+dest\+\_\+y} = 10.\+0
\begin{DoxyCompactList}\small\item\em y destination coordinate to send with coordinates\+Publisher to robots\+\_\+control. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_af55216b57e6300f2655208801980faad}\label{namespaceagents__pos__service_1_1v__twin1_af55216b57e6300f2655208801980faad}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+dest\+\_\+z} = -\/30.\+0
\begin{DoxyCompactList}\small\item\em z destination coordinate to send with coordinates\+Publisher to robots\+\_\+control. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a11fd5bb432e48f0a2f3f96b4939e01a3}\label{namespaceagents__pos__service_1_1v__twin1_a11fd5bb432e48f0a2f3f96b4939e01a3}} 
int {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+REFRESH\+\_\+\+TIME} = 5
\begin{DoxyCompactList}\small\item\em The time to wait to calculate the new position with Lloyd algorithm. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a6db030b4b54e10666c949758f09cfd86}\label{namespaceagents__pos__service_1_1v__twin1_a6db030b4b54e10666c949758f09cfd86}} 
int {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+DISTANCE\+\_\+\+FROM\+\_\+\+TERRAIN} = 20
\begin{DoxyCompactList}\small\item\em Distance the agent have to maintain from the terrain. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{namespaceagents__pos__service_1_1v__twin1_a40d8437a7501690b07a6ee4302f64780}{agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+MAP\+\_\+\+SIZE}} = 2400
\begin{DoxyCompactList}\small\item\em The size of the map. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_aa806b51ccefaf7f42bfacc80ccf5a980}\label{namespaceagents__pos__service_1_1v__twin1_aa806b51ccefaf7f42bfacc80ccf5a980}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+mx} = 1.\+0
\begin{DoxyCompactList}\small\item\em This agent position x coordinate (voronoi scale) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a9cc648b961dd489f7d625e073f94e159}\label{namespaceagents__pos__service_1_1v__twin1_a9cc648b961dd489f7d625e073f94e159}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+my} = 2.\+0
\begin{DoxyCompactList}\small\item\em This agent position y coordinate (voronoi scale) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a833ae66dc90725c022f095726ed70004}\label{namespaceagents__pos__service_1_1v__twin1_a833ae66dc90725c022f095726ed70004}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+mz} = 3.\+0
\begin{DoxyCompactList}\small\item\em This agent position z coordinate (voronoi scale) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a5b51d4fe140e0f231dac86f9030a1c6f}\label{namespaceagents__pos__service_1_1v__twin1_a5b51d4fe140e0f231dac86f9030a1c6f}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+mh} = 4.\+0
\begin{DoxyCompactList}\small\item\em Altitude of this agent. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a8b8df281cc6803c47dbae0ffbf7bd9d6}\label{namespaceagents__pos__service_1_1v__twin1_a8b8df281cc6803c47dbae0ffbf7bd9d6}} 
tuple {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+sendx} = (mx $\ast$ MAP\+\_\+\+SIZE / 10) -\/ (MAP\+\_\+\+SIZE / 2)
\begin{DoxyCompactList}\small\item\em This agent position z coordinate (map scale) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_af28ada27bb3bd60a83d0827712a29843}\label{namespaceagents__pos__service_1_1v__twin1_af28ada27bb3bd60a83d0827712a29843}} 
tuple {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+sendy} = (my $\ast$ MAP\+\_\+\+SIZE / 10) -\/ (MAP\+\_\+\+SIZE / 2)
\begin{DoxyCompactList}\small\item\em This agent position z coordinate (map scale) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a3fc741ec99f750ff45d6e9561ffc6efe}\label{namespaceagents__pos__service_1_1v__twin1_a3fc741ec99f750ff45d6e9561ffc6efe}} 
float {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+sendz} = mz
\begin{DoxyCompactList}\small\item\em This agent position z coordinate (map scale) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_af74855b9b35f1aec1edbdf9b508574dc}\label{namespaceagents__pos__service_1_1v__twin1_af74855b9b35f1aec1edbdf9b508574dc}} 
int {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+MY\+\_\+\+ID} = 1
\begin{DoxyCompactList}\small\item\em This agent id. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a5a0ed9d31a05bedc62e751a15dc75f07}\label{namespaceagents__pos__service_1_1v__twin1_a5a0ed9d31a05bedc62e751a15dc75f07}} 
int {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+ITERATIONS} = 5
\begin{DoxyCompactList}\small\item\em Iterations to converge before take the photo. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a773f4d607ce77748baa4fe51cd914b17}\label{namespaceagents__pos__service_1_1v__twin1_a773f4d607ce77748baa4fe51cd914b17}} 
int {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+N\+\_\+\+AGENTS} = 2
\begin{DoxyCompactList}\small\item\em Number of agents used. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a6bf790fd0fa7d6f3be5db8907f4d0ce4}\label{namespaceagents__pos__service_1_1v__twin1_a6bf790fd0fa7d6f3be5db8907f4d0ce4}} 
int {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+M\+\_\+\+FACTOR} = 10
\begin{DoxyCompactList}\small\item\em DO NOT TOUCH\+: Multiplicative factor (Used to calculate voronoi cells) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_a1709633d20a47045cf531d56753911fa}\label{namespaceagents__pos__service_1_1v__twin1_a1709633d20a47045cf531d56753911fa}} 
list {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+destination} = \mbox{[}6, 7\mbox{]}
\begin{DoxyCompactList}\small\item\em Destination where my agents has to arrive. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagents__pos__service_1_1v__twin1_abc2602fe08084655adf694e6397d4fae}\label{namespaceagents__pos__service_1_1v__twin1_abc2602fe08084655adf694e6397d4fae}} 
list {\bfseries agents\+\_\+pos\+\_\+service.\+v\+\_\+twin1.\+agents\+\_\+position} = \mbox{[}\mbox{[}-\/1, -\/1, 1\mbox{]}, \mbox{[}-\/1, -\/1, 1\mbox{]}\mbox{]}
\begin{DoxyCompactList}\small\item\em Position of all agents. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\hypertarget{v__twin1_8py_author}{}\doxysubsection{Author(s)}\label{v__twin1_8py_author}

\begin{DoxyItemize}
\item Created by Alberto Ruaro on 30/04/2022. 
\end{DoxyItemize}